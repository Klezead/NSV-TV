$(document).ready(function(){"use strict";$.loadVideosFromChannel=function(e,t){$.when($.getJSON(config.youtube.apiUrl.search.replace("<channelId>",e)+"&maxResults="+config.youtube.maxResults+"&key="+config.youtube.applicationId)).then(function(e){if(0!==e.items){var n=null,a=null,i=$("#channel-hidden-template").clone();i.attr("id",t+"Channel"),i.find(".videoDivTitle").html(config.youtube.videoDivTitle.replace("<channelName>",t)),i.find(".channelVideo"),$.each(e.items,function(e,t){a=t.snippet,"youtube#video"===t.id.kind&&(n=$("#video-hidden-template").clone(),n.attr("id","video_"+t.id.videoId),n.attr("href",config.youtube.watchUrl.replace("<videoId>",t.id.videoId)),n.find(".video_title").html($.reduceTitleTextSize(a.title)),n.find(".stream_date").html($.convertDateToFrench(a.publishedAt)),n.find(".video_thumbnail").attr("src",a.thumbnails.medium.url),i.find(".channelVideos").append(n))}),$("#youtubeVideosDiv").append(i)}})},$.loadVideosFromPlaylist=function(e,t){$.when($.getJSON(config.youtube.apiUrl.playlisteItems.replace("<playlistId>",e)+"&maxResults="+config.youtube.maxResults+"&key="+config.youtube.applicationId)).then(function(e){var n=null,a=null;$.each(e.items,function(e,i){a=i.snippet,n=$("#video-hidden-template").clone(),n.attr("id","video_"+i.id),n.attr("href",config.youtube.watchUrl.replace("<videoId>",a.resourceId.videoId)),n.find(".video_title").html($.reduceTitleTextSize(a.title)),n.find(".stream_date").html($.convertDateToFrench(a.publishedAt)),n.find(".video_thumbnail").attr("src",a.thumbnails.medium.url),t.append(n)})})},$.addYoutubeVideos=function(){$("#video_content").load("./components/youtube.html",function(){$.loadVideosFromPlaylist(config.youtube.nsvTvBestPlaylistId,$("#bestPlaylistVideos")),$.each(config.streamers,function(e,t){void 0!==t.youtube&&$.loadVideosFromChannel(t.youtube.channelId,t.youtube.channelName)})})}});